issues:
  - title: Engage team meembers and other stakeholders about the changes to {site}
    assignee: "jamiemaynard"
    label: "Handbook::operations"
    description: |
                 The biggest part of moving {site} content from www-gitlab-com to the new
                 handbook sites is engagement with GitLab team members, the DRI for {site}
                 content and the winder community or people who use or rely on the GitLab
                 handbook.o

                 This issues reflects the need for engagementg and all engagement issues
                 relating to the move should feed in to this issue.
    issues:
      - title: Start engagement with the wider gitlab team about {site} moving from www-gitlab-com
        assignee: "jamiemaynard"
        label: "Handbook::operations"
        description: |
                     Moving handbook content from one site to another is potentially most distruptive
                     to GitLab team members who will have bookmakrs to {site} content.  We need to
                     enggage early with team members through a range of channels to make them aware
                     of the work being done.  This supports our values of transparency and collaboration
                     and early engagement will allow team members to be prepared for the move.
        issues:
        - title: Advise of plan to move {site} content via Slack
          assignee: "jamiemaynard"
          label: "Handbook::operations"
          description: |
                       We will need to create some posts for slack which we can share in #company-fyi 
                       and #whats-happening-at-gitlab.  We will need to do this in collaboration with
                       @kaylagolden and her team.
        - title: Create news article for Gitlab In-House and While You Were Iterating about {site} cotnent move
          assignee: "jamiemaynard"
          label: "Handbook::operations"
          description: |
                       We will need to create a post for GitLab In-House and While You Were Iterating
                       newsletter to advise team members of {site} content moving from www-gitlab-com to
                       the new handbook site.  This should be more indepth than than posts to Slack and
                       give broadly more details about the timeline and where to find out more information
                       about the move.

                       We will need to work with @kaylagolden and her team to create a communication strategy
                       for handling internal communications about the content move.
      - title: Update handbook direction and related pages in the handbook for {site} content move
        assignee: "jamiemaynard"
        label: "Handbook::operations"
        description: |
                     We have pages in the handbook related to the direction of the Handbook, along with a Google
                     document which is currently public.  These need to be updated with the plan to move {site}
                     cotnent from www-gitlab-com to the new handbook site.  This will help with engaging both
                     GitLab team members and external stakeholders.
      - title: Start engaging with with the wider community with a blog post about {site} content move
        assignee: "jamiemaynard"
        label: "Handbook::operations"
        description: |
                     We need to enagne with the wider GitLab community about changes to the Handbook site and moving
                     {site} from www-gitlab-com to the handbook.  There any more people who use content derived from
                     our handbook.  To do this we have Identified a blog post as a good way to start engaging with
                     the wider GitLab community.

                     We need to work with the external comms team to create the blog post and get it posted to our
                     corporate blog.
      - title: Identify other stakeholders for the {site} content
        assignee: "jamiemaynard"
        label: "Handbook::operations"
        description: |
                     We need to broadly reach out to both our community, team members and corporate functions to
                     try to identikfy as many stakeholders of {site} content as possible and to try to engage with
                     them.  An example of this is MECC/TeamOps participants external to GitLab who may be relying
                     or using our handbook and {site} content who could be affected by this move.
        issues:
        - title: Engage with other stakeholders for {site} content
          assignee: "jamiemaynard"
          label: "Handbook::operations"
          description: |
                       With stakeholders identified we will need to engage with them to advise them that the content
                       is moving and will have a new look and feel.  Each stakeholder might have slightly different
                       communication needs.  So this broad issue is to capture any engagement issues our stakeholders
                       have.

                       We will need to work external comms, TeamOps and others as part of the wider engagement process.
  - title: Create and Publish cutover plan and roadmap for {site} content move to the current handbook
    assignee: "jamiemaynard"
    label: "Handbook::operations"
    description: |
                 In the spirit of transparency and the handbook being our Single Source of Truth we should
                 create a version of the cutover plan for {site} content and get this published to the current
                 public handbook.
  - title: Review script for {site} cutover and make sure its repeatable
    assignee: "jamiemaynard"
    label: "Handbook::operations"
    description: |
                 We have scripted the process of moving content from www-gitlab-com repository to the new handbook
                 repository.  This script has to be run locally on a machine and can't be run in the pipeline.  We
                 will need to make sure  this runs successfully for {site} content and review the output before
                 cutover day.  This will help us identify any issues as early as possible.  It will also help identify
                 broken content or data files.
  - title: Create a reversion plan for the change to {site}
    assignee: "jamiemaynard"
    label: "Handbook::operations"
    description: |
                 Things do go wrong and we need to plan for things going wrong on the day we move {site} content from
                 www-gitlab-com to the new handbook site.  We need a plan to quickly undo any changes we make on the day.
                 We need a simple run book to revert changes, close MRs or raise reversion MRs so that the handbook is
                 not left in a broken state for any length of time.
  - title: Create some tests to confirm content for {site} has moved successfully
    assignee: "jamiemaynard"
    label: "Handbook::operations"
    description: |
                 Ideally we need to confirm that {site} content has moved successfully and isn't to broken.  Ideally a
                 set of cucumber or similar tests to identify core content from the pages which are moving match after
                 the move has been completed.  Ideally we should be able to identify the content divs on the handbook 
                 and broadly make sure the content matches on the review app before we commit the chnages.
  - title: Set out plans for a code freeze on {site}
    assignee: "jamiemaynard"
    label: "Handbook::operations"
    description: |
                 Handbook content is updated frequently by the whole orgnaisation.  We can't have content being updated
                 at the sametime as we're trying to move it.  We don't want to risk lossing content changes during the move.
                 To prevent this we're going to do a content freeze on the affect {site} content before we do the move.
                 
                 This needs to be well communicated ahead of time and the process organised so that on the day we can freeze
                 the content without impacting fellow team members.
    issues:
    - title: Publish {site} code freeze plan to slack
      assignee: "jamiemaynard"
      label: "Handbook::operations"
      description: |
                    We need to work with @kaylagolden and her team to get out to team members that we are planning to do a code
                    freeze.  We'll need to share this on slack in #whats-happening-at-gitlab and #company-fyi.  This will help
                    give us good visibility before we plan to do the cut over of the content.
    - title: Create news article about {site} code freeze and confirmed moving date for Gitlab In-House and While you were iterating
      assignee: "jamiemaynard"
      label: "Handbook::operations"
      description: |
                   We need to engage team members through a range of channels to make them aware of the changes we're planning to undertake
                   to hthe andbook and {site} content.  We need to create a news article with more concrete details about moving {site}
                   content and details of the code freeze as this will almost certainly affect other team members.  We'll work with
                   @kaylagolden and her team to get this news published to GitLab In-House and the "While you were iterating" company
                   newsletter.
  - title: Identify any partials and data files used by {site} content
    assignee: "jamiemaynard"
    label: "Handbook::operations"
    description: |
                 There is lots of handbook content which relies on data files, partials and ruby templating to create the resulting
                 handbook web site.  We need to identigy this content, log it and break it down in to a form which can be used by
                 Hugo.  This work needs to be done before we move the {site} content.  This way we can try to minimise the amount
                 of broken content which will need to be fixed after we complete moving the content.
    issues:
    - title: Log affected {site} content for cutover day
      assignee: "jamiemaynard"
      label: "Handbook::operations"
      description: |
                   We need to log all identified content which is using Ruby Templating, partials or data files for dynamic creation
                   of content.  This log will help us identify potential issues on the day we move the content over.
    - title: Create hugo partials, shortcodes or data processing templates for affected {site} content
      assignee: "jamiemaynard"
      label: "Handbook::operations"
      description: |
                   We will need to creatge shortcodes and data templates for content on the existing handbook which consumes data held
                   in Yaml files or is using ruby templating.  We can do this before the cut over day as these partials can be held in
                   the repository until they are needed by the content.
  - title: Duplicate CODEOWNERS for {site} into the new handbook repo ahead of content move
    assignee: "jamiemaynard"
    label: "Handbook::operations"
    description: |
                 Ideally we want to preserve CODEOWNERS between the two handbooks.  Althouh content will be in slightly different places
                 we should make every effort to move replicate the CODEOWNERS structure for affect {site} content.
  - title: Initiate code freeze for {site}
    assignee: "jamiemaynard"
    label: "Handbook::operations"
    descrfiption: |
                  With dates confirmmed, testing done and work to prepare the content to be moved done and good communications to the rest
                  of the organisation we are as ready as we can be for cut over day.  We start with a codefreeze on {site} content.  We
                  announce the codefreeze on Slack and trigger the codefreeze in GitLab on www-gitlab-com.
  - title: Move content for {site} from www-gitlab-com to handbook using script
    assignee: "jamiemaynard"
    label: "Handbook::operations"
    description: |
                 We need to run the mmove-content.sh script which automates the process of mmoving content from the www-gitlab-com repo to the
                 handbook repo.  We create MRs as part of the process and merge them in as quickly as possible.  This is a two person job.
                 One person to run the script and another to review the MRs and approve.
  - title: Bring in any changes for {site} content relating to to partials, shortcodes and data files
    assignee: "jamiemaynard"
    label: "Handbook::operations"
    descrfiption: |
                  Using the partials log and other resources we should quickly update any identified content which had previously used ruby
                  templating or other partial techniques with their hugo equivelents.  This should target anything where the content would
                  be substantially degraded if the changes aren't made.
  - title: Clean up and remove {site} content from www-gitlab-com
    assignee: "jamiemaynard"
    label: "Handbook::operations"
    description: |
                 This is the clean up phase on www-gitlab-com.  We remove all the {site} content from the www-gitlab-com repo leaving a
                 README.md file explaining where the content has moved too and who to contact if people have questions about the content
                 which has been moved.  We update CODEOWNERS and setup redirects to the new content on handbook.gitlab.com
    issues:
    - title: Updated redirects file on www-gitlab-com for {site} to point to new handbook content
      assignee: "jamiemaynard"
      label: "Handbook::operations"
      description: |
                   Redirects need to be created for all the content which is being moved from www-gitlab-com to the new handbook repo.
                   We can create the redirects ahead of time but they will need to merged in to www-gitlab-com immediately after the
                   content has been removed from www-gitlab-com.  This will prevent links breaking in the handbook and other applications
                   which use {site} content.
    - title: Change CODEOWNERS for {site} content on www-gitlab-com to Handbook DRI
      assignee: "jamiemaynard"
      label: "Handbook::operations"
      description: |
                   The CODEOWNERS entries for {site} will need to be updated to point to @marshall007 and @jamiemaynard.  We don't want
                   anyone to merge in any MRs to the content which has now been moved over to the new repo.  Although CODEOWNERS isn't
                   a perfect solution it should give some visibility to anyone trying to raise MRs against {site} content.
    - title: Setup README.md file for {site} content that has moved to advise where they have moved to on www-gitlab-com
      assignee: "jamiemaynard"
      label: "Handbook::operations"
      description: |
                   Place a README.md file in the {site} directory where previously remnoved content once lived.  The README.md should detail
                   where the content has moved to and where to get help.  The advantage of using a README.md is that it is automatically
                   rendered by the GitLab UI when people are browsing the codebase.
  - title: Run test framework for {site} content to confirm successful move
    assignee: "jamiemaynard"
    label: "Handbook::operations"
    description: |
                 Run any tests which are avaialble to confirm that content has moved successfully.  Automated testing is ideal because
                 it should be able to scan all the content on both handbook sites at the sametime and check to make sure the majority
                 of content has successfully moved over.  We should be looking at 80% of content matching between the two sites to
                 confirm the success of the move.

                 If we get less than this threshold we should initiate the rollback plan and investigate what went wrong.
  - title: Lift code freeze for {site} on www-gitlab-com and handbook
    assignee: "jamiemaynard"
    label: "Handbook::operations"
    description: |
                 Having had a codefreeze we need to lift the code freeze once we have finished working {site} content.  We should
                 advise the lifting of the codefreeze on Slack in case people are watiing to work on the cotnent.

# Move data files to their own repo out of www-gitlab-com for SSOT purposes
# Update www-gitlab-com to use new data files repo